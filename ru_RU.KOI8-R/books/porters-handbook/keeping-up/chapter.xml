<?xml version="1.0" encoding="koi8-r"?>
<!--
     The FreeBSD Russian Documentation Project

     $FreeBSD$

     Original revision: r43840
-->

<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink=
  "http://www.w3.org/1999/xlink" version="5.0" xml:id="keeping-up">

  <title>Актуализация</title>

  <para>Коллекция Портов &os; постоянно изменяется.  Здесь находится
    некоторая информация о том, как поддерживать её в актуальном
    состоянии.</para>

  <sect1 xml:id="freshports">
    <title>FreshPorts</title>

    <para>Самым простым способом отслеживать уже произошедшие
      обновления является подписка на <link xlink:href=
        "http://www.FreshPorts.org/">FreshPorts</link>.  Для
      мониторинга вы можете выбрать несколько портов.  Мейнтейнерам
      настоятельно рекомендуется подписаться здесь, потому что они
      будут получать уведомления не только о собственных изменениях,
      но и об изменениях, сделанных любым другим коммиттером &os;.
      (Это часто необходимо для синхронизации с изменениями на более
      низком технологическом уровне&mdash;хотя более корректным было
      бы получение предупреждений от тех, кто вносит подобные
      изменения, иногда этот этап пропускается или он просто
      непрактичен.  Кроме того, в некоторых случаях изменения по
      своей природе весьма незначительны.  Мы полагаем, что любой
      разработчик в таких ситуациях будет руководствоваться здравым
      смыслом).</para>

    <para>Если вы хотите использовать FreshPorts, то вам нужна только
      учётная запись.  Если регистрационный адрес вашей электронной
      почты будет иметь вид <literal>@FreeBSD.org</literal>, то
      справа на Web-страницах вы увидите дополнительную ссылку.  Для
      тех из вас, кто уже получил учётную запись FreshPorts, но не
      использовал собственный адрес электронной почты
      <literal>@FreeBSD.org</literal>, достаточно сменить адрес на
      <literal>@FreeBSD.org</literal>, подписаться, а затем сменить
      его обратно.</para>

    <para>Во FreshPorts имеется также функция проверки правильности,
      которая автоматически проверяет каждое изменение, внесённое в
      дерево портов &os;.  Если вы подпишетесь на эту услугу, то
      будете оповещаться обо всех ошибках, обнаруженных FreshPorts
      при проверке внесённых вами изменений.</para>
  </sect1>

  <sect1 xml:id="svnweb">
    <title>Web-интерфейс к хранилищу исходных текстов</title>

    <para>Файлы в хранилище исходных текстов можно просматривать при
      помощи Web-интерфейса.  Изменения, которые касаются в целом
      всей системы портов, теперь документируются в файле <link
	xlink:href="http://svnweb.FreeBSD.org/ports/head/CHANGES">CHANGES</link>.
      Изменения, касающиеся отдельных портов, отражаются теперь в
      файле <link
	xlink:href="http://svnweb.FreeBSD.org/ports/head/UPDATING">UPDATING</link>.
      Однако однозначный ответ на любой вопрос можно найти, только
      прочитав исходных код <link
	xlink:href="http://svnweb.FreeBSD.org/ports/head/Mk/bsd.port.mk">bsd.port.mk</link>
      и связанных с ним файлов.</para>
  </sect1>

  <sect1 xml:id="ports-mailing-list">
    <title>Список рассылки &os;, посвящённый портам</title>

    <para>Если вы поддерживаете порты, то должны следить за
      &a.ports;.  О важных изменениях, отражающихся на работе портов,
      будет сообщаться здесь, а затем они переносятся в
      <filename>CHANGES</filename>.</para>

    <para>Если данный список рассылки слишком загружен сообщениями,
      вы можете отслеживать &a.ports-announce.name;, который
      модерируется и не является местом для дискуссий.</para>
  </sect1>

  <sect1 xml:id="build-cluster">
    <title>Кластер построения портов &os;</title>

    <para>Одной из наименее известных сильных сторон &os; является
      тот факт, что для непрерывного построения Коллекции Портов для
      каждого из основных релизов ОС для каждой архитектуры уровня
      поддержки Tier-1 выделен целый кластер машин.</para>

    <para>Отдельные порты собираются, если они специально не помечены
      как <varname>IGNORE</varname>.  Для портов, помеченных как
      <varname>BROKEN</varname>, попытки будут продолжены для того,
      чтобы увидеть, если основная проблема была решена.  (Это
      сделано через использование переменной
      <varname>TRYBROKEN</varname> для <filename>Makefile</filename>
      порта.)</para>
  </sect1>

  <sect1 xml:id="distfile-survey">
    <title>Portscout: сканер дистрибутивных файлов портов
      &os;</title>

    <para>Кластер построения выделен для выполнения самого последнего
      релиза каждого из портов, дистрибутивные файлы которых уже были
      сгружены.  Однако из-за постоянных изменений в Internet
      дистрибутивные файлы могут быстро исчезать.  <link
	xlink:href="http://portscout.FreeBSD.org">Portscout</link>,
      средство сканирования дистрибутивных файлов &os; пытается
      опросить каждый из сайтов, доступных для сгрузки каждого из
      портов, для определения того, доступны ли ещё дистрибутивные
      файлы.  <application>Portscout</application> может готовить
      отчёты в <acronym>HTML</acronym> и рассылать электронные письма
      об имеющихся обновлениях для портов тем, кто это запрашивает.
      Мейнтейнеры периодически запрашивают наличие изменений, либо
      вручную, либо используя ленту <acronym>RSS</acronym>.</para>

    <para>Главная страница <application>Portscout</application>
      отображает email мейнтейнера порта, количество портов, за
      которые ответственен мейнтейнер, количество портов с новыми
      дистрибутивными файлами и процент устаревших портов.  Функция
      поиска выполняет поиск мейнтейнера по адресу электронной почты
      и позволяет выбирать между всеми портами или только
      устаревшими.</para>

    <para>При щелчке по адресу электронной почты мейнтейнера
      отображается список всех его портов, разделённых по категориям,
      вместе с текущим номером версии, информацией о наличии новой
      версии, временем последнего обновления порта и временем его
      последней проверки.  Функция поиска на этой странице позволяет
      пользователю выполнять поиск конкретного порта.</para>

    <para>По щелчку на название порта в списке отображается информация
      о порте <link
        xlink:href="http://freshports.org">FreshPorts</link>.</para>
  </sect1>

  <sect1 xml:id="portsmon">
    <title>Система мониторинга портов &os;</title>

    <para>Другим полезным ресурсом является <link
	xlink:href="http://portsmon.FreeBSD.org">Система мониторинга
	портов &os;</link> (известная также как
      <literal>portsmon</literal>).  Система представляет собой базу
      данных, обрабатывающую информацию из нескольких источников и
      позволяющую просматривать их при помощи Web-интерфейса.  На
      данный момент задействованы база сообщений об ошибках (PR),
      протоколы ошибок кластера построения и отдельные файлы из
      коллекции портов.  В будущем в этот список будет добавлена
      система проверки дистрибутивных файлов и другие ресурсы.</para>

    <para>Для начала вы можете просмотреть всю информацию о некотором
      порте при помощи средства <link
	xlink:href="http://portsmon.FreeBSD.org/portoverview.py">Обзор
	отдельного порта</link>.</para>

    <para>На момент написания это единственный доступный ресурс,
      который для имени порта ставит в соответствие записи PR GNATS.
      (Отправители PR не всегда добавляют в название имя порта, хотя
      мы предпочитаем, чтобы они это делали.)  Таким образом,
      <literal>portsmon</literal> это хорошее место для начала, если
      вы хотите найти присланные PR и/или ошибки построения для
      существующего порта; либо поискать, был ли уже прислан новый
      порт, который вы подумывали создать сами.</para>
  </sect1>
</chapter>
